---
layout: default
---

# Лекция 1

<a name="1">
## История C++
</a> 
##### Основные вехи развития:

1. 1972 — создание языка С (Брайан Керниган, Деннис Ритчи)
2. 1980 — создание языка С++ (Бьярн Страуструп)
3. 2003 — принят первый стандарт языка C++
4. 2011 — принят второй стандарт языка C++

##### Философия С++

* Эффективность (в ущерб безопасности: например, 
	нет контроля выхода за пределы массива)
* Переносимость
* Мультипарадигмальность

<a name="2">
## Простейшая программа
</a> 
Каждая программа на C++ состоит из одной или более функций. Среди них *обязательно* должна присутствовать главная функция `main`, которую и вызывает операционная система при запуске программы. Простейший пример:

```cpp
int main() {
    return 0;
}
```

Значение, возвращаемое `main`, используется ОС для определения успешности
завершения программы. Если не ноль, то в программе произошла ошибка.

```cpp
#include <iostream>   // Заголовочный файл

int main() {
    std::cout << "Hello world!" << std::endl;
}
```
<a name="3">
## Пространства имен
</a> 
Чтобы каждый раз не писать префикс `std::`, можно включить пространство 
имён в глобальную область видимости:

```cpp
using namespace std; // Всё содержимое пространства std 
                     // становится видимым во всем файле.
                     
using std::cout;     // Либо только элемент cout становится
                     // видимым во всем файле.

int main() {
    cout << "Hello world!";
}
```

<a name="4">
## Типы данных
</a> 
| С++           | Pascal      |
| ------------- |-------------|
| int           | integer     |
| bool          | boolean     |
| double, float | real        |
| char          | char        |

Замечание: в типе `char` не поддерживается Unicode по умолчанию.

<a name="5">
## Способы инициализации переменных
</a> 
```cpp
double d = 3.14;    // старый стиль

double d {3.14};    // новый стиль
double d = {3.14};  // или так
```

<a name="6">
## Неявное преобразование типов
</a> 
В C++ при попытке присвоить целочисленной переменной значение с плавающей 
точкой, произойдёт **отбрасывание** дробной части. При инициализации в новом 
стиле будет ошибка компиляции.

```cpp
int i = 3.14;   // i == 3
int i {3.14};   // Ошибка компиляции
```

Тип `char` занимает 1 байт, поэтому диапазон его значений [-128,127], 
однако следующий код будет откомпилирован.

```cpp
char c = 128;   // c == -128
```

<a name="7">
## Основные операции
</a> 
| C++ | Pascal |  Примеры |
|:---:|:------:|:--------:|
| =   | :=     | `int a = 4;`
|  /  | div    | `7 / 3` — тип `int`;   `7 / 3.0` — `double`
|  %  | mod    |
| a++ / ++a| a = a + 1 | ...
|||
| &&  | and    |  `i > 0  &&  i != 2`
|\|\| | or     |  `i == 4  ||  i == 5`
| !   | not    |
| ==  | =      |
| !=  | <>     |
|||
| <<  | shl    | `(8 << 1  =  16)` 
| >>  | shr    |
| &   | and    | `7 & 3 == 3`
|  \| | or     |
| ^   | xor    |
| ~   | not    |

Возможна запись `a = b = c`, означающая `b = c; a = c` — множественное присваивание (справа налево).

Особое внимание стоит обратить на операцию сравнение на равенство:

```cpp
if (a = 5)  …  // (1) Неверно! Но легко пропустить
if (5 = a)  …  // (2) Неверно! И компилятор выдаст ошибку

if (a == 5) … // (3) Верно! Но если спутать с (1), то легко не заметить
if (5 == a) … // (4) Верно! И если спутать с (2), то легко увидеть: ошибка компиляции
```

<a name="8">
## Условный оператор
</a> 
```cpp
if (условие) {
    ...
} else {
    ...
}
```
Допускается сокращённая форма (без `else`).

<a name="9">
### Тернарная условная операция
</a> 
```cpp
bool flag;
if (flag) {
    cout << "true";
} else {
    cout << "false";
}
```

Более короткая запись:

```cpp
cout << (flag ? "true" : "false");
```

<a name="10">
## Оператор выбора
</a> 
```cpp
switch (i) {
    case 1:
        ...
        break;
    case 2:
    case 3:     
    ...
    default:
}
```

<a name="11">
## Операторы цикла
</a> 
<a name="12">
### Цикл `while`
</a> 
```cpp
while (x > 10) {
    x -= 1;
}
```

<a name="13">
### Цикл `do-while`
</a> 
```cpp
do {
   x--;
} while (x > 0);
```
Похож на `repeat/until` в Паскале, но используется условие продолжения 
цикла (как в `while`), а не условие окончания как в `repeat/until`.

<a name="14">
### Цикл `for`
</a> 
```cpp
for (инициализация; условие_продолжения; действие_на_каждом_шаге) {
    ...
}

for (int i = 0; i < 10; i++) {
    cout << i << " ";
}								// "0 1 2 3 4 5 6 7 8 9 "

for (;;);  // бесконечный цикл
```

<a name="15">
## Оператор `,` (запятая)
</a> 
Возвращает значение своего последнего операнда, например:

```cpp
int s = 0, i = 6;
cout <<  s = i*i, i;  // Выведет 6
```
