# Лекция 1

## История C++

#####Основные вехи развития:

1. 1972 - создание языка С (Керниган, Ритчи)
2. 1980 - создание языка С++ (Бьярн Страуструп)
3. 2003 - принят первый стандарт языка C++
4. 2011 - принят второй стандарт языка C++


##### Философия С++

* Эффективность (в ущерб безопасности)
* Нет контроля выхода за пределы массива
* Переносимость
* Мультипарадигмальность

## Простейшая программа

Каждая программа на C++ состоит из одной или более функций. Среди них *обязательно* должна присутствовать главная функция `main`, которую и вызывает операционная система при запуске программы. Простейший пример:
```cpp
int main() {
    return 0;
}
```

Значение возвращаемое main используется ОС для определения успешности завершения программы. Если не ноль, то содержится ошибка.
```cpp
#include <iostream>   // Заголовочный файл

int main() {
    std::cout << "Hello world!" << std::endl;
}
```

## Пространства имен

Чтобы каждый раз не писать префикс `std::`, можно включить пространство имён в глобальную область видимости:
``` cpp
using namespace std; // Всё содержимое пространства std 
                     // становится видимым во всем файле
                     
using std::cout;     // Либо только элемент cout становится
                     // видимым во всем файле

int main() {
    cout << "Hello world!";
}
```

## Типы данных
| С++           | Pascal      |
| ------------- |-------------|
| int           | integer     |
| bool          | boolean     |
| double, float | real        |
| char          | char        |

Замечание: в типе `char` не поддерживается Unicode по умолчанию.

## Способы инициализации переменных
```cpp
double d = 3.14;    // старый стиль

double d {3.14};    // новый стиль
double d = {3.14};  // или так
```

## Неявное преобразование типов

В C++ при попытке присвоить целочисленной переменной значение с плавающей точкой, произойдёт **отбрасывание** дробной части. При инициализации в новом стиле будет ошибка компиляции.
```cpp
int i = 3.14;   // i == 3
int i {3.14};   // Ошибка компиляции
```

Тип `char` занимает 1 байт, поэтому диапазон его значений [-128,127], однако следующий код будет откомпилирован.
```cpp
char c = 128;   // c == -128
```

## Основные операции
| C++ | Pascal |  Example |
|:---:|:------:|:--------:|
| =   | :=     | `int a = 4;`
|  /  | dir    | `7 / 3 = int;   7 / 3.0 (double) = double` 
|  %  | mod    |
| a++ / ++a| a = a + 1 | ...
|||
| &&  | and    |  `i > 0  &&  i != 2`
|\|\| | or     |  `i == 4  ||  i == 5`
| !   | not    |
| ==  | =      |
| !=  | <>     |
|||
| <<  | shl    | `(8 << 1  =  16)` 
| >>  | shr    |
| &   | and    | `7 & 3 == 3`
|  \| | or     |
| ^   | xor    |
| ~   | not    |

Возможна запись `a = b = c`, означающая `b = c; a = c` — множественное присваивание (справа налево).
Особое внимание стоит обратить на знак равенства (эквивалентности):
```cpp
if (a = 5) ..  // Неверно!
if (5 = a) ..  // Неверно!

if (a == 5) .. // Верно!
```

## Условный оператор
```cpp
if (истинное_условие) {
    ...
} else {
    ...
}
```

### Тернарный оператор
```cpp
bool flag;
if (flag) {
    cout << "true";
} else {
    cout << "false";
}

// Более короткая запись
cout << (flag ? "true" : "false");
```

## Оператор выбора
```cpp
switch (i) {
    case 1:
        ...
        break;
    case 2:
    case 3:     
    ...
    default:
}
```

## Операторы цикла

### Цикл while
```cpp
while (x > 10) {
    x -= 1;
}
```

### Цикл do-while
```cpp
do {
   x--;
} while (x > 0);
```

### Цикл for
```cpp
for (инициализация; условие_продолжения; действие_на_каждом_шаге) {
    ...
}

for (int i = 0; i < 10; i++) {
    cout << i << " ";
}

for (;;);  // бесконечный цикл
```

Оператор `,` (запятая), из вышеприведенного примера, возвращает значение своего последнего операнда, например:
```cpp
int s = 0, i = 6;
cout <<  s = i*i, i;  // Выведет 6
```
